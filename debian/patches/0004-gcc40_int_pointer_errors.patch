From: Barak A. Pearlmutter <bap@debian.org>
Date: Sat, 7 May 2011 18:05:45 +0100
Subject: [PATCH] gcc40_int_pointer_errors

Pointer length is different in 32 and 64 bit arches.
---
 src/Attribute/attrvalue.cc |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/Attribute/attrvalue.cc b/src/Attribute/attrvalue.cc
index 6523295..fbc3d62 100644
--- a/src/Attribute/attrvalue.cc
+++ b/src/Attribute/attrvalue.cc
@@ -393,7 +393,7 @@ boolean AttributeValue::boolean_val() {
     case AttributeValue::StringType:
 	return (boolean) int_val()!=-1;
     case AttributeValue::ObjectType:
-	return (boolean) obj_val();
+	return (intptr_t) obj_val();
     case AttributeValue::StreamType:
 	return stream_mode() != 0;
     default:
@@ -552,7 +552,7 @@ unsigned int AttributeValue::uint_val() {
     case AttributeValue::SymbolType:
 	return (unsigned int) int_val();
     case AttributeValue::ObjectType:
-        return (unsigned int)obj_val();
+        return (unsigned intptr_t) obj_val();
     default:
 	return 0;
     }
@@ -585,7 +585,7 @@ int AttributeValue::int_val() {
     case AttributeValue::SymbolType:
 	return int_ref();
     case AttributeValue::ObjectType:
-        return (int)obj_val();
+      return (intptr_t) obj_val();
     default:
 	return 0;
     }
-- 
